This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

configure:610: checking whether to enable maintainer-specific portions of Makefiles
configure:635: checking for makeinfo
configure:681: checking for perl
configure:721: checking host system type
configure:744: checking build system type
configure:770: checking for ar
configure:802: checking for ranlib
configure:871: checking for gcc
configure:950: checking whether we are using GNU C
configure:959: gcc -E conftest.c
configure:975: checking whether gcc accepts -g
configure:1007: checking whether gcc and cc understand -c and -o together
configure:1022: gcc -c conftest.c -o conftest.o 1>&5
configure:1023: gcc -c conftest.c -o conftest.o 1>&5
configure:1028: cc -c conftest.c 1>&5
configure:1030: cc -c conftest.c -o conftest.o 1>&5
configure:1031: cc -c conftest.c -o conftest.o 1>&5
configure:1067: checking for POSIXized ISC
configure:1088: checking for working const
configure:1142: gcc -c -g -O2  conftest.c 1>&5
configure:1163: checking for inline
configure:1177: gcc -c -g -O2  conftest.c 1>&5
configure:1220: checking for a BSD compatible install
configure:1281: checking how to run the C preprocessor
configure:1302: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/file.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/param.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for limits.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for stdlib.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for malloc.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for string.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for unistd.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for strings.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/time.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for time.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/resource.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/stat.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/mman.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for fcntl.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for alloca.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/pstat.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1370:23: error: sys/pstat.h: No such file or directory
configure: failed program was:
#line 1369 "configure"
#include "confdefs.h"
#include <sys/pstat.h>
configure:1364: checking for sys/sysmp.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1370:23: error: sys/sysmp.h: No such file or directory
configure: failed program was:
#line 1369 "configure"
#include "confdefs.h"
#include <sys/sysmp.h>
configure:1364: checking for sys/sysinfo.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for machine/hal_sysinfo.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1370:33: error: machine/hal_sysinfo.h: No such file or directory
configure: failed program was:
#line 1369 "configure"
#include "confdefs.h"
#include <machine/hal_sysinfo.h>
configure:1364: checking for sys/table.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1370:23: error: sys/table.h: No such file or directory
configure: failed program was:
#line 1369 "configure"
#include "confdefs.h"
#include <sys/table.h>
configure:1364: checking for sys/sysctl.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1364: checking for sys/systemcfg.h
configure:1374: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1370:27: error: sys/systemcfg.h: No such file or directory
configure: failed program was:
#line 1369 "configure"
#include "confdefs.h"
#include <sys/systemcfg.h>
configure:1401: checking for sys/wait.h that is POSIX.1 compatible
configure:1422: gcc -c -g -O2  conftest.c 1>&5
configure:1443: checking whether time.h and sys/time.h may both be included
configure:1457: gcc -c -g -O2  conftest.c 1>&5
configure:1479: checking whether errno must be declared
configure:1491: gcc -c -g -O2  conftest.c 1>&5
configure:1513: checking for ANSI C header files
configure:1526: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1593: gcc -o conftest -g -O2   conftest.c  1>&5
configure: In function 'main':
configure:1588: warning: incompatible implicit declaration of built-in function 'exit'
configure:1617: checking for uintptr_t
configure:1658: checking for pid_t
configure:2392: checking whether the C compiler (gcc -g -O2 ) works
configure:2408: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2434: checking whether the C compiler (gcc -g -O2 ) is a cross-compiler
configure:2441: checking for asprintf
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for atexit
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for basename
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for bcmp
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'bcmp'
configure:2441: checking for bcopy
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'bcopy'
configure:2441: checking for bsearch
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for bzero
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'bzero'
configure:2441: checking for calloc
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'calloc'
configure:2441: checking for clock
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for ffs
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'ffs'
configure:2441: checking for getcwd
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for getpagesize
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for index
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'index'
configure:2441: checking for insque
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for memchr
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'memchr'
configure:2441: checking for memcmp
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'memcmp'
configure:2441: checking for memcpy
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'memcpy'
configure:2441: checking for memmove
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'memmove'
configure:2441: checking for memset
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'memset'
configure:2441: checking for mkstemps
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for putenv
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for random
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for rename
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for rindex
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'rindex'
configure:2441: checking for setenv
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for sigsetmask
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for strcasecmp
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strcasecmp'
configure:2441: checking for strchr
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strchr'
configure:2441: checking for strdup
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strdup'
configure:2441: checking for strncasecmp
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strncasecmp'
configure:2441: checking for strrchr
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strrchr'
configure:2441: checking for strstr
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'strstr'
configure:2441: checking for strtod
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for strtol
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for strtoul
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for tmpnam
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccThbeMk.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:2463: warning: the use of `tmpnam' is dangerous, better use `mkstemp'
configure:2441: checking for vasprintf
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2441: checking for vfprintf
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'vfprintf'
configure:2441: checking for vprintf
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'vprintf'
configure:2441: checking for vsprintf
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2453: warning: conflicting types for built-in function 'vsprintf'
configure:2441: checking for waitpid
configure:2469: gcc -o conftest -g -O2   conftest.c  1>&5
configure:2496: checking whether alloca needs Cray hooks
configure:2580: checking stack direction for C alloca
configure:2607: gcc -o conftest -g -O2   conftest.c  1>&5
configure: In function 'main':
configure:2603: warning: incompatible implicit declaration of built-in function 'exit'
configure: failed program was:
#line 2588 "configure"
#include "confdefs.h"
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}
main ()
{
  exit (find_stack_direction() < 0);
}
configure:2629: checking for vfork.h
configure:2639: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:2635:19: error: vfork.h: No such file or directory
configure: failed program was:
#line 2634 "configure"
#include "confdefs.h"
#include <vfork.h>
configure:2664: checking for working vfork
configure:2815: gcc -o conftest -g -O2   conftest.c  1>&5
configure: In function 'main':
configure:2798: warning: incompatible implicit declaration of built-in function 'exit'
configure:2905: checking for _doprnt
configure:2933: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/cc29nEnG.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:2927: undefined reference to `_doprnt'
collect2: ld returned 1 exit status
configure: failed program was:
#line 2910 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char _doprnt(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char _doprnt();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub__doprnt) || defined (__stub____doprnt)
choke me
#else
_doprnt();
#endif

; return 0; }
configure:2961: checking for sys_errlist
configure:2973: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccy2CAbJ.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:2969: warning: `sys_errlist' is deprecated; use `strerror' or `strerror_r' instead
configure:2961: checking for sys_nerr
configure:2973: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccGxXYOI.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:2969: warning: `sys_nerr' is deprecated; use `strerror' or `strerror_r' instead
configure:2961: checking for sys_siglist
configure:2973: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3000: checking for external symbol _system_configuration
configure:3009: gcc -c -g -O2  conftest.c 1>&5
configure:3003:27: error: sys/systemcfg.h: No such file or directory
configure: In function 'main':
configure:3005: error: '_system_configuration' undeclared (first use in this function)
configure:3005: error: (Each undeclared identifier is reported only once
configure:3005: error: for each function it appears in.)
configure: failed program was:
#line 3002 "configure"
#include "confdefs.h"
#include <sys/systemcfg.h>
int main() {
double x = _system_configuration.physmem;
; return 0; }
configure:3027: checking for getrusage
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for on_exit
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for psignal
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for strerror
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for strsignal
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for sysconf
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for times
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for sbrk
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for gettimeofday
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3027: checking for pstat_getstatic
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccbHMTG9.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:3049: undefined reference to `pstat_getstatic'
collect2: ld returned 1 exit status
configure: failed program was:
#line 3032 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char pstat_getstatic(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pstat_getstatic();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_pstat_getstatic) || defined (__stub___pstat_getstatic)
choke me
#else
pstat_getstatic();
#endif

; return 0; }
configure:3027: checking for pstat_getdynamic
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/cc65StZd.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:3049: undefined reference to `pstat_getdynamic'
collect2: ld returned 1 exit status
configure: failed program was:
#line 3032 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char pstat_getdynamic(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pstat_getdynamic();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_pstat_getdynamic) || defined (__stub___pstat_getdynamic)
choke me
#else
pstat_getdynamic();
#endif

; return 0; }
configure:3027: checking for sysmp
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccxY5bDf.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:3049: undefined reference to `sysmp'
collect2: ld returned 1 exit status
configure: failed program was:
#line 3032 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char sysmp(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char sysmp();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_sysmp) || defined (__stub___sysmp)
choke me
#else
sysmp();
#endif

; return 0; }
configure:3027: checking for getsysinfo
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/cc8eNfVh.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:3049: undefined reference to `getsysinfo'
collect2: ld returned 1 exit status
configure: failed program was:
#line 3032 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getsysinfo(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getsysinfo();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getsysinfo) || defined (__stub___getsysinfo)
choke me
#else
getsysinfo();
#endif

; return 0; }
configure:3027: checking for table
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
/tmp/ccGdEQQk.o: In function `main':
/root/cs161/cs161-gcc-1.4/libiberty/configure:3049: undefined reference to `table'
collect2: ld returned 1 exit status
configure: failed program was:
#line 3032 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char table(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char table();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_table) || defined (__stub___table)
choke me
#else
table();
#endif

; return 0; }
configure:3027: checking for sysctl
configure:3055: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3085: checking for stdlib.h
configure:3085: checking for unistd.h
configure:3085: checking for sys/stat.h
configure:3085: checking for sys/types.h
configure:3095: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:3124: checking for getpagesize
configure:3177: checking for working mmap
configure:3338: gcc -o conftest -g -O2   conftest.c  1>&5
configure:3269: error: conflicting types for 'malloc'
configure: In function 'main':
configure:3308: warning: cast from pointer to integer of different size
configure: failed program was:
#line 3185 "configure"
#include "confdefs.h"

/* Thanks to Mike Haertel and Jim Avera for this test.
   Here is a matrix of mmap possibilities:
	mmap private not fixed
	mmap private fixed at somewhere currently unmapped
	mmap private fixed at somewhere already mapped
	mmap shared not fixed
	mmap shared fixed at somewhere currently unmapped
	mmap shared fixed at somewhere already mapped
   For private mappings, we should verify that changes cannot be read()
   back from the file, nor mmap's back from the file at a different
   address.  (There have been systems where private was not correctly
   implemented like the infamous i386 svr4.0, and systems where the
   VM page cache was not coherent with the filesystem buffer cache
   like early versions of FreeBSD and possibly contemporary NetBSD.)
   For shared mappings, we should conversely verify that changes get
   propogated back to all the places they're supposed to be.

   Grep wants private fixed already mapped.
   The main things grep needs to know about mmap are:
   * does it exist and is it safe to write into the mmap'd area
   * how to use it (BSD variants)  */
#include <sys/types.h>
#include <fcntl.h>
#include <sys/mman.h>

#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif

#if HAVE_STDLIB_H
# include <stdlib.h>
#endif

#if HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif

#if HAVE_UNISTD_H
# include <unistd.h>
#endif

/* This mess was copied from the GNU getpagesize.h.  */
#ifndef HAVE_GETPAGESIZE

/* Assume that all systems that can run configure have sys/param.h.  */
# ifndef HAVE_SYS_PARAM_H
#  define HAVE_SYS_PARAM_H 1
# endif

# ifdef _SC_PAGESIZE
#  define getpagesize() sysconf(_SC_PAGESIZE)
# else /* no _SC_PAGESIZE */
#  ifdef HAVE_SYS_PARAM_H
#   include <sys/param.h>
#   ifdef EXEC_PAGESIZE
#    define getpagesize() EXEC_PAGESIZE
#   else /* no EXEC_PAGESIZE */
#    ifdef NBPG
#     define getpagesize() NBPG * CLSIZE
#     ifndef CLSIZE
#      define CLSIZE 1
#     endif /* no CLSIZE */
#    else /* no NBPG */
#     ifdef NBPC
#      define getpagesize() NBPC
#     else /* no NBPC */
#      ifdef PAGESIZE
#       define getpagesize() PAGESIZE
#      endif /* PAGESIZE */
#     endif /* no NBPC */
#    endif /* no NBPG */
#   endif /* no EXEC_PAGESIZE */
#  else /* no HAVE_SYS_PARAM_H */
#   define getpagesize() 8192	/* punt totally */
#  endif /* no HAVE_SYS_PARAM_H */
# endif /* no _SC_PAGESIZE */

#endif /* no HAVE_GETPAGESIZE */

#ifdef __cplusplus
extern "C" { void *malloc(unsigned); }
#else
char *malloc();
#endif

int
main()
{
	char *data, *data2, *data3;
	int i, pagesize;
	int fd;

	pagesize = getpagesize();

	/*
	 * First, make a file with some known garbage in it.
	 */
	data = malloc(pagesize);
	if (!data)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		*(data + i) = rand();
	umask(0);
	fd = creat("conftestmmap", 0600);
	if (fd < 0)
		exit(1);
	if (write(fd, data, pagesize) != pagesize)
		exit(1);
	close(fd);

	/*
	 * Next, try to mmap the file at a fixed address which
	 * already has something else allocated at it.  If we can,
	 * also make sure that we see the same garbage.
	 */
	fd = open("conftestmmap", O_RDWR);
	if (fd < 0)
		exit(1);
	data2 = malloc(2 * pagesize);
	if (!data2)
		exit(1);
	data2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);
	if (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,
	    MAP_PRIVATE | MAP_FIXED, fd, 0L))
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data2 + i))
			exit(1);

	/*
	 * Finally, make sure that changes to the mapped area
	 * do not percolate back to the file as seen by read().
	 * (This is a bug on some variants of i386 svr4.0.)
	 */
	for (i = 0; i < pagesize; ++i)
		*(data2 + i) = *(data2 + i) + 1;
	data3 = malloc(pagesize);
	if (!data3)
		exit(1);
	if (read(fd, data3, pagesize) != pagesize)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data3 + i))
			exit(1);
	close(fd);
	unlink("conftestmmap");
	exit(0);
}

configure:3362: checking for working strncmp
configure:3434: gcc -o conftest -g -O2   conftest.c  1>&5
configure: In function 'main':
configure:3429: warning: incompatible implicit declaration of built-in function 'exit'
